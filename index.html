<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>JLPT Learning Site</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f9; }
    h1 { color: #333; }
    iframe { width: 100%; max-width: 600px; height: 340px; margin-bottom: 10px; }
    .subtitle { margin: 5px 0; padding: 5px; cursor: pointer; }
    .subtitle:hover { background: #ddd; }
    #meaning { margin-top: 20px; padding: 10px; background: #fff; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>JLPT Practice Video</h1>

  <!-- YouTube Video -->
 <iframe id="ytplayer" 
        src="https://www.youtube.com/embed/s6dkC9GO9a8"
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
</iframe> 



  <h2>Subtitles (click a word):</h2>
  <div id="subs"></div>

  <div id="meaning"><strong>Meaning:</strong> Click a word to see its meaning.</div>

  <script>
    const subsDiv = document.getElementById("subs");
    const meaningDiv = document.getElementById("meaning");

    // Load subtitles from VTT file
    fetch("subs/n5lesson1.vtt")
      .then(r => r.text())
      .then(text => {
        const lines = text.split("\n").filter(l => l && !l.includes("-->") && l !== "WEBVTT");
        lines.forEach(line => {
          const div = document.createElement("div");
          div.className = "subtitle";
          line.split("").forEach(word => {
            const span = document.createElement("span");
            span.textContent = word;
            span.style.margin = "2px";
            span.style.cursor = "pointer";
            span.onclick = () => lookupWord(word);
            div.appendChild(span);
          });
          subsDiv.appendChild(div);
        });
      });

    // Small test dictionary
    const dict = {
      "今": "now",
      "日": "day/sun",
      "は": "topic marker",
      "天": "sky/heaven",
      "気": "mood/spirit/air",
      "勉": "study",
      "強": "strong",
      "楽": "fun",
      "し": "do",
      "い": "good"
    };

    function lookupWord(word) {
      meaningDiv.innerHTML = `<strong>Meaning:</strong> ${word} → ${dict[word] || "Not in dictionary yet"}`;
    }
  </script>
</body>
</html>

